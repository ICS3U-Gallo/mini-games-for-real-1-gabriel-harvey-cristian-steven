import pygame
import math
import random

pygame.init()

screen_width = 800
screen_height = 600
screen = pygame.display.set_mode((screen_width, screen_height))
pygame.display.set_caption("Shooter Game")

black = (0, 0, 0)
green = (0, 255, 0)

enemy_width = 20
enemy_height = 40
enemies = [{'x': screen_width, 'y': random.randint(0, screen_height - enemy_height)} for _ in range(3)]
enemy_speed = 1.5

running = True
while running:
    screen.fill(black)

player_width = 20
player_height = 40
player_x = 50  # Player positioned on the left side
player_y = screen_height // 2
player_speed = 5

bullet_speed = 10
bullets = []

running = True
while running:
    screen.fill(black)  
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False

   for enemy in enemies:
        enemy['x'] -= enemy_speed
        if enemy['x'] < -enemy_width:
            enemies.remove(enemy)
            enemies.append({'x': screen_width, 'y': random.randint(0, screen_height - enemy_height)})

for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
        elif event.type == pygame.MOUSEBUTTONDOWN:
            # Fire a bullet towards the mouse position
            mouse_x, mouse_y = pygame.mouse.get_pos()
            angle = math.atan2(mouse_y - player_y, mouse_x - player_x)
            bullets.append({'x': player_x + player_width // 2, 'y': player_y, 'angle': angle})


    keys = pygame.key.get_pressed()
    if keys[pygame.K_UP] and player_y > 0:
        player_y -= player_speed
    if keys[pygame.K_DOWN] and player_y < screen_height - player_height:
        player_y += player_speed

for bullet in bullets:
        bullet['x'] += bullet_speed * math.cos(bullet['angle'])
        bullet['y'] += bullet_speed * math.sin(bullet['angle'])
    bullets = [bullet for bullet in bullets if 0 <= bullet['x'] <= screen_width and 0 <= bullet['y'] <= screen_height]

    pygame.draw.rect(screen, green, (player_x, player_y, player_width, player_height))
    for bullet in bullets:
        pygame.draw.circle(screen, (255, 0, 0), (int(bullet['x']), int(bullet['y'])), 3)

    pygame.display.flip()

 pygame.draw.rect(screen, green, (player_x, player_y, player_width, player_height))
    for bullet in bullets:
        pygame.draw.circle(screen, (255, 0, 0), (int(bullet['x']), int(bullet['y'])), 3)
    for enemy in enemies:
        pygame.draw.rect(screen, (255, 255, 255), (enemy['x'], enemy['y'], enemy_width, enemy_height))

    pygame.display.flip()

pygame.quit()



 

